{% extends 'RotexSbpCoreBundle::base.html.twig' %}

{% block title %}{{ parent() }} - {{ "core.user.title.administration" | trans }}{% endblock %}

{% block breadcrumb %}
    {{ parent() }}
    {% include "RotexSbpCoreBundle::breadcrumb.html.twig" with {"url": url('core_admin_user'), "name": "core.user.header"} %}
    {% include "RotexSbpCoreBundle::breadcrumb.html.twig" with {"url": "#", "name": "core.user.edit.header", "last": true } %}
{% endblock %}

{% block main %}
    <div class="page-header">
        <h2>{{ "rtxlabs.user.edit.header" | trans }}</h2>
    </div>
    
    {% if form_errors(form) %}
        <div class="alert-message error">
            <p>
            <strong>{{ "rtxlabs.general.notification.error.header" | trans }}</strong>
                <p id="notification-error-body">
                    {{ form_errors(form) }}
                </p>
            </p>
        </div>
    {% endif %}

    <div class="row">
        <form method="post" action="{{ path('rtxlabs_bundle_user_save', {'id': user.id ? user.id : -1})}}"
            {{ form_enctype(form) }}>
            <fieldset>
                <legend>{{ "rtxlabs.user.edit.legend" | trans }}</legend>
                <div class="clearfix">
                    {{ form_label(form.firstName) }}
                    <div class="input">{{ form_widget(form.firstName) }}</div>
                </div>
                <div class="clearfix">
                    {{ form_label(form.lastName) }}
                    <div class="input">{{ form_widget(form.lastName) }}</div>
                </div>

                <div class="clearfix">
                    {{ form_label(form.personnelNumber) }}
                    <div class="input">{{ form_widget(form.personnelNumber) }}</div>
                </div>

                <div class="clearfix">
                    {{ form_label(form.email) }}
                    <div class="input">{{ form_widget(form.email) }}</div>
                </div>

                <div class="clearfix">
                    {{ form_label(form.username) }}
                    <div class="input">{{ form_widget(form.username) }}</div>
                </div>

               {{ form_widget(form.plainPassword) }}

                <div class="clearfix">
                    {{ form_label(form.admin) }}
                    <div class="input">{{ form_widget(form.admin) }}</div>
                </div>
            </fieldset>

            {{ form_rest(form) }}
            <input type="submit" class="btn info small" value="{{ "core.general.form.save" | trans }}"/>
            &nbsp;&nbsp;<a class="btn small" href="{{ path('rtxlabs_bundle_user_list') }}">{{ "core.general.form.backtolist" | trans }}</a>
        </form>
    </div>
{% endblock %}
